{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://conservationconnector.org/schemas/conservation-site.json",
  "title": "Conservation Site",
  "description": "Schema for conservation site data in the Conservation Connector application",
  "type": "object",
  "required": ["id", "name", "location", "geometry"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the conservation site (kebab-case recommended)",
      "pattern": "^[a-z0-9-]+$",
      "examples": ["yellowstone-np", "yosemite-np", "everglades-np"]
    },
    "name": {
      "type": "string",
      "description": "Official name of the conservation site",
      "minLength": 1,
      "examples": ["Yellowstone National Park", "Yosemite National Park"]
    },
    "description": {
      "type": "string",
      "description": "Brief description of the conservation site and its significance"
    },
    "location": {
      "type": "object",
      "description": "Geographic location information",
      "required": ["lat", "lng", "state"],
      "properties": {
        "lat": {
          "type": "number",
          "description": "Latitude in decimal degrees (WGS84)",
          "minimum": -90,
          "maximum": 90
        },
        "lng": {
          "type": "number",
          "description": "Longitude in decimal degrees (WGS84)",
          "minimum": -180,
          "maximum": 180
        },
        "state": {
          "type": "string",
          "description": "Two-letter state code or comma-separated list for multi-state sites",
          "pattern": "^[A-Z]{2}(,[A-Z]{2})*$",
          "examples": ["CA", "WY,MT,ID"]
        },
        "county": {
          "type": "string",
          "description": "County or counties where the site is located"
        },
        "address": {
          "type": "string",
          "description": "Physical address or access point"
        }
      }
    },
    "geometry": {
      "type": "object",
      "description": "GeoJSON geometry for the conservation site",
      "oneOf": [
        {
          "type": "object",
          "required": ["type", "coordinates"],
          "properties": {
            "type": {
              "type": "string",
              "enum": ["Point"]
            },
            "coordinates": {
              "type": "array",
              "minItems": 2,
              "maxItems": 2,
              "items": {
                "type": "number"
              }
            }
          }
        },
        {
          "type": "object",
          "required": ["type", "coordinates"],
          "properties": {
            "type": {
              "type": "string",
              "enum": ["Polygon"]
            },
            "coordinates": {
              "type": "array",
              "items": {
                "type": "array",
                "items": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        {
          "type": "object",
          "required": ["type", "coordinates"],
          "properties": {
            "type": {
              "type": "string",
              "enum": ["MultiPolygon"]
            },
            "coordinates": {
              "type": "array",
              "items": {
                "type": "array",
                "items": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "items": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      ]
    },
    "area": {
      "type": "object",
      "description": "Area/size of the conservation site",
      "properties": {
        "acres": {
          "type": "number",
          "description": "Area in acres",
          "minimum": 0
        },
        "km2": {
          "type": "number",
          "description": "Area in square kilometers",
          "minimum": 0
        },
        "hectares": {
          "type": "number",
          "description": "Area in hectares",
          "minimum": 0
        }
      }
    },
    "designation": {
      "type": "string",
      "description": "Type of conservation designation",
      "examples": [
        "National Park",
        "National Forest",
        "National Wildlife Refuge",
        "State Park",
        "Wilderness Area",
        "Conservation Area",
        "Wildlife Management Area",
        "Marine Protected Area"
      ]
    },
    "manager": {
      "type": "object",
      "description": "Management information",
      "properties": {
        "agency": {
          "type": "string",
          "description": "Managing agency or organization",
          "examples": ["National Park Service", "U.S. Forest Service", "U.S. Fish and Wildlife Service"]
        },
        "contact": {
          "type": "string",
          "description": "Contact information (phone, email, website)"
        }
      }
    },
    "owner": {
      "type": "string",
      "description": "Land owner (may differ from manager)",
      "examples": ["Federal", "State", "Private", "Tribal", "Local Government"]
    },
    "established": {
      "type": "integer",
      "description": "Year the site was established or designated",
      "minimum": 1800,
      "maximum": 2100
    },
    "access": {
      "type": "object",
      "description": "Public access information",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Open Access", "Restricted Access", "Closed", "Unknown"],
          "description": "Level of public access"
        },
        "notes": {
          "type": "string",
          "description": "Additional access information (hours, restrictions, permits required)"
        },
        "fee": {
          "type": "boolean",
          "description": "Whether entrance fee is required"
        }
      }
    },
    "tags": {
      "type": "array",
      "description": "Keywords and tags for categorization",
      "items": {
        "type": "string"
      },
      "examples": [["wildlife", "hiking", "camping", "scenic", "endangered species"]]
    },
    "features": {
      "type": "array",
      "description": "Notable natural or cultural features",
      "items": {
        "type": "string"
      },
      "examples": [["geysers", "waterfalls", "old-growth forest", "endangered species habitat"]]
    },
    "biodiversity": {
      "type": "object",
      "description": "Biodiversity information",
      "properties": {
        "ecosystems": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "examples": [["temperate rainforest", "alpine", "wetland"]]
        },
        "species": {
          "type": "object",
          "properties": {
            "threatened": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Threatened or endangered species present"
            },
            "total": {
              "type": "integer",
              "description": "Total number of documented species"
            }
          }
        }
      }
    },
    "gapStatus": {
      "type": "string",
      "description": "GAP analysis protection status (1-4)",
      "enum": ["1", "2", "3", "4", "Unknown"],
      "examples": ["1"]
    },
    "iucnCategory": {
      "type": "string",
      "description": "IUCN protected area management category",
      "enum": ["Ia", "Ib", "II", "III", "IV", "V", "VI", "Unknown"]
    },
    "website": {
      "type": "string",
      "format": "uri",
      "description": "Official website URL"
    },
    "images": {
      "type": "array",
      "description": "Image URLs for the site",
      "items": {
        "type": "object",
        "required": ["url"],
        "properties": {
          "url": {
            "type": "string",
            "format": "uri"
          },
          "caption": {
            "type": "string"
          },
          "credit": {
            "type": "string"
          }
        }
      }
    },
    "metadata": {
      "type": "object",
      "description": "Metadata about this data record",
      "properties": {
        "source": {
          "type": "string",
          "description": "Data source",
          "examples": ["PADUS 3.0", "National Park Service", "USGS"]
        },
        "lastUpdated": {
          "type": "string",
          "format": "date",
          "description": "Date this record was last updated (YYYY-MM-DD)"
        },
        "dataQuality": {
          "type": "string",
          "enum": ["high", "medium", "low"],
          "description": "Assessment of data quality/completeness"
        }
      }
    }
  }
}
